Приложение Shopkeeper4 можно установить на обычный shared-хостинг или VDS. Пока довольно сложно найти shared-хостинг с MongoDB, но они есть. Также можно использовать удаленный сервер базы данных MongoDB, например [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).

Системные требования (Symfony 4.x)
----------------------------------
- PHP 7.1+
- MongoDB 3.2+
- Расширения PHP: mongodb, json, gd2, iconv

Для проверки вашего сервера на совместимость можно использовать скрипт ``check.php``, который находится в папке ``public``.

Порядок установки
-----------------

1. Скачать ZIP-архив с официального сайта [http://modx-shopkeeper.ru/](http://modx-shopkeeper.ru/) и загрузить его на сервер в корневую директорию сайта (не публичную).
2. Распаковать архив. Для этого можно использовать файловый менеджер, который обычно есть в панеле хостинга.
3. Проверить [настройки веб-сервера](https://symfony.com/doc/current/setup/web_server_configuration.html). На shared-хостинге обычно не нужно настраивать веб-сервер, настройки уже должны быть сделаны. Если нет возможности настроить Nginx или Apache, нужно обратиться в службу поддержки хостинга.

Обычно на shared-хостинге достаточно в настройках домена указать путь до публичной папки ``public`` или переименовать эту папку (дать название, которое указано в настройках домена). Если имя публично папки изменено, то нужно открыть конфигурационный файл ``/config/parameters.yaml`` и отредактировать название папки в параметре ``app.web_dir_path``.

4. Если на сервере не используется авторизация по пользователю и паролю для MongoDB, то нужно открыть конфигурационный файл ``/config/packages/doctrine_mongodb.yaml`` и отредактировать настройки подключения к БД для ``doctrine_mongodb`` и ``doctrine_cache``. Пример:
Заменить строку
~~~
server: 'mongodb://%mongodb_user%:%mongodb_password%@%mongodb_server%:%mongodb_port%'
~~~
на такую:
~~~
server: 'mongodb://%mongodb_server%:%mongodb_port%'
~~~

5. Открыть в браузере адрес сайта. Заполнить поля на странице установки и нажать кнопку "Установить".

6. Если все данные введены верно, то в базу данных будет добавлено всё необходимое, а также тестовые данные магазина.

Для установки на выделенном сервере или VDS для удобства можно использовать [Bash скрипт для установки](https://github.com/andchir/shk4-wiki/blob/master/Bash-скрипт-для-установки.md). Он скачает архив приложения, распакует его и установит необходимые права доступа на файлы и папки.

Дополнительные материалы
------------------------
- [Настройки веб-сервера для Symfony](https://symfony.com/doc/current/setup/web_server_configuration.html)